{
  "content": {
    "modulesContent": {
      "$edgeAgent": {
        "properties.desired.modules": {
          "opcPublisher": {
            "version": "1.0",
            "type": "docker",
            "status": "running",
            "restartPolicy": "always",
            "settings": {
              "image": "iotgwcr.azurecr.io/opcpublisher:latest",
              "createOptions": "{\"Hostname\":\"publisher\",\"Cmd\":[\"--pf=/app/pn.json\",\"--aa\"]}"
            }
          },
          "opcSimulator": {
            "version": "1.0",
            "type": "docker",
            "status": "running",
            "restartPolicy": "always",
            "settings": {
              "image": "iotgwcr.azurecr.io/opcsimulator:latest",
              "createOptions": "{\"HostConfig\":{\"PortBindings\":{\"1880/tcp\":[{\"HostPort\":\"1880\"}]}}}"
            }
          },
          "opcToDtdl": {
            "type": "docker",
            "status": "running",
            "restartPolicy": "always",
            "settings": {
              "image": "azureiotgbb/opc-publisher-to-dtdl:latest",
              "createOptions": "{\"Env\":[\"DefaultApplicationUri=Site1\",\"NodeIdRegex=#s=\\\\([a-zA-Z0-9_\\\\.]+\\\\)\",\"ApplicationUriRegex=Site1\"]}"
            }
          }
        }
      },
      "$edgeHub": {
        "properties.desired.routes": {
          "OpcPublisherToIoTHub": "FROM /messages/modules/opcPublisher/* INTO $upstream)",
          "OpcPublisherToTranslator": "FROM /messages/modules/opcPublisher/* INTO BrokeredEndpoint(\"/modules/opcToDtdl/inputs/opc\")",
          "TranslatorToIoTHub": "FROM /messages/modules/opcToDtdl/outputs/dtdl INTO $upstream"
        }
      }
    }
  }
}