{
  "content": {
    "modulesContent": {
      "$edgeAgent": {
        "properties.desired.modules": {
          "opcSimulator": {
            "version": "1.0",
            "type": "docker",
            "status": "running",
            "restartPolicy": "always",
            "settings": {
              "image": "__LOGIN_SERVER__/__SIM_IMAGE_NAME__:__SIM_IMAGE_TAG__",
              "createOptions": "{\"ExposedPorts\":{\"4840/tcp\":{}},\"HostConfig\":{\"PortBindings\":{\"1880/tcp\":[{\"HostPort\":\"1880\"}],\"4840/tcp\":[{\"HostPort\":\"4840\"}]}}}"
            }
          },
          "opcPublisher": {
            "version": "1.0",
            "type": "docker",
            "status": "running",
            "restartPolicy": "always",
            "settings": {
              "image": "__LOGIN_SERVER__/__PUBLISHER_IMAGE_NAME__:__PUBLISHER_IMAGE_TAG__",
              "createOptions": "{\"Cmd\":[\"--pf=/data/publishedNodes.json\",\"--aa\"]}"
            }
          },
          "opcToDtdl": {
            "type": "docker",
            "status": "running",
            "restartPolicy": "always",
            "settings": {
              "image": "__LOGIN_SERVER__/__TRANSLATOR_IMAGE_NAME__:__TRANSLATOR_IMAGE_TAG__",
              "createOptions": "{\"Env\":[\"DefaultApplicationUri=SimulationServer\",\"NodeIdRegex=#[is]=\\\\([a-zA-Z0-9_\\\\.]+\\\\)\",\"ApplicationUriRegex=.*\"]}"
            }
          }
        }
      },
      "$edgeHub": {
        "properties.desired.routes": {
          "OpcPublisherToTranslator": "FROM /messages/modules/opcPublisher/* INTO BrokeredEndpoint(\"/modules/opcToDtdl/inputs/opc\")",
          "TranslatorToIoTHub": "FROM /messages/modules/opcToDtdl/outputs/dtdl INTO $upstream"
        }
      }
    }
  }
}